프로젝트 세팅 및 실습한다.
stable 버전 중 최신 버전 (괄호 없는 거)
group hello
artifact servlet
패키징 WAR - jsp 쓸거임
강의 내용은 java 11 기준

Dependency
- Spring Web
- Lombok

Build
Gradle 대신 IntelliJ IDEA 빌드를 시행해야된다.
인텔리제이가 빌드 속도가 더 빠름
Preference - build Tools에서 세팅 가능

인텔리제이는 증분 빌드를 해서 더 빠르다고 한다.
그래들은 무조건 전체 빌드라 상대적으로 느려보인다고 함.

롬복은 플러그인 설치해주던데... 플러그인으로 추가해주는 거랑 디펜던시랑 뭐가 다른 건지 모르겟슴


hello 서블릿
서블릿은 톰캣 같은 WAS 직접 설치, 서블릿 코드를 클래스 파일로 빌드해서 올린 다음 톰캣 실행하면 됨.
스프링부트는 설치 없이 편리하게 실행 가능.


httpServletRequest 개요
http 요청 메시지를 개발자가 직접 파싱해서 사용해도 되지만, 매우 불편할 것이다. 서블릿은 http 요청 메시지를 파싱해서 개발자가 편리하게 사용하도록 지원한다.
부가 기능도 있으나 강의자료 있어서 생략한다.


HTTP 요청 데이터
알아둬야 헷갈리지 않는다!!!

get - 쿼리 파라미터
메시지 바디 없이, url 쿼리 파라미터에 데이터 포함.
보안 취약.
검색, 필터, 페이징 등에서 많이 사용

post - html form
메시지 바디에 쿼리 파라미터 형식으로 전달.
http Content-Type: aplication/x-www-form-urlencoded
예에에전에 메시지 바디에 넣는 거랑 헷갈린 적 있는데, 다른 건 알고 있는데 왜 다른 지 알게 되었다. 이렇게 주는 군...

http message body
http api에서 주로 사용. json, xml, text 같은 것
json 국룰
post, put, patch 등...


쿼리파라미터는 ?로 시작.
추가 파라미터는 &으로 구분
RequestParamServlet 실습 클래스


POST 메서드
application/x-www-form-urlencoded 형식은 get에서 살펴본 쿼리 파라미터 형식과 같다! 따라서 GET의 파라미터 조회 메서드를 그대로 사용하면 된다.
서버 입장에서는 둘의 형식이 동일해서 가능함.

content-type은 HTTP 메시지 바디의 데이터 형식을 지정한다.
get url 쿼리 파라미터 형식은 http 메시지 바디를 이용하지 않아 content-type 없음.
post html form 형식이면 꼭 지정해야 함. 이게 application/x-www-form-urlencoded 형식.

매번 포스트 해줄 때마다 귀찮으니 포스트맨 쓰자.
x-www-form-urlencoded랑 form이랑 구분된다. 신기하구만


단순 텍스트 방식
http message body에 데이터 직접 담아 요청
데이터 형식 주로 json
http api에서 주로 사용하는 것.
post, put, patch에서 주로 사용?

json 메시지 바디 형식으로 입력
json 파싱하는 게 필요함.
content-type : application/json
json도 결국 문자열임. 파싱 필요
jackson이 기본으로 제공되는 파싱 라이브러리
스프링 mvc가 제공하는 기능을 극한으로 사용하면 패러미터로 dto를 받을 수 있다. 프레임워크가 자동으로 파싱...
Gson라는 json 직렬화 라이브러리도 있다.

html form 데이터도 메시지 바디를 통해 전송되므로 직접 읽기 가능. 그러나 편리한 파라미터 조회 기능이 없다.


HTTP 서블릿 response


json 응답해줄 땐 content type을 application/json으로 설정해줌.
application/json은 charset이 자동으로 utf-8 설정해준다.
그래서 굳이 설정해줄 필요 없음.