스프링 mvc 전체 구조
5챕터에서 스프링 mvc와 비슷한 구조로 만들어보았다.

동작 순서?
스프링 mvc

[[Controller-vs-RestController]]
위 문서에서 했던 로직들 참고.

---

핸들러 매핑과 핸들러 어댑터?

과거 스프링 컨트롤러는 ModelAndView handleRequest라는 딱딱한 형식의 컨트롤러 제공함.
Controller 인터페이스는 @Controller 어노테이션과는 전혀 다름.

이 컨트롤러도 핸들러 매핑과 핸들러 어댑터로 찾아주는 과정을 거침

 얘네도 종류가 많음.
 
핸들러 매핑으로 핸들러 조회
핸들러 어댑터 조회
핸들러 어댑터 실행

MyHttpRequesthandler 핸들러매핑, 어댑터

RequestMapping?

RequestMappingHandlerMapping과 RequestMappingHandlerAdapter가 가장 우선순위가 높다.
@RequestMapping의 앞글자를 따서 만듬! 스프링에서 주로 사용하는 어노테이션 기반 컨트롤러 지원 매핑과 어댑터.

---

뷰 리졸버

종류 다양함
InternalResource? InternalResourceView 반환
그럼 얘는 뭐냐, jsp처럼 포워드 호출 가능할 경우 사용.

view.render()
InternalResourceView는 forward()를 사용해 jsp 실행

타임리프는 타임리프 뷰와 리졸버 존재. 그걸로 매칭됨!

jstl은 jstl뷰 반환. 약간의 부가기능이 추가된다.

다른 뷰는 실제 뷰를 렌더링, jsp의 경우 forward()를 통해 해당 jsp로 이동(실행)해야 렌더링 된다. jsp 제외 나머지 뷰 템플릿들은 forward() 과정 없이 바로 렌더링된다.

---

스프링 mvc - 시작하기
실습

컨트롤러의 경우, @Component와 @RequestMapping이 있어야 한다.
(@Controller 사용 안 할 시)

RequestMapping이 클래스 레벨에 있으면 빈타입임.

빈으로 직접 등록할 수도 있다. 똑같음.
@Controller가 제일 깔끔함

---

컨트롤러 통합

하나의 컨트롤러로 통합한다
@RequestMapping만 하면 ~/로 매핑해주니까 추가로 붙이는 엔드포인트없으면 생략해도 됨.

---

실용적인 방식

기존 ModelandView에서 문자열 반환으로 바꿈.
@RequestParam 이용, model을 패러미터로 받아와 동적으로 추가해야하는 것을 addAttribute로 추가함.

http 메소드 구분시켜주기

method = RequestMethod.GET 형식이었는데 길었다.
GetMapping, PostMapping 같은 형식으로 메서드와 requestmapping을 합쳐서 쓰게 되었다. 더 깔끔해짐.
