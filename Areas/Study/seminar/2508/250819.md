250818 스킵하였다.

레디스!
remote dictionary server의 약자


레디스의 장점?
자료에 나옴

레디스는 인메모리에 모든 데이터를 저장해 굉장히 빠름.

### Redis 주요 사용사례
- 캐싱
- 세션관리
- 실시간 분석 및 통계
- 메시지 큐
- 속도제한
- 실시간 채팅 및 메시징


캐시와 캐싱
데이터 캐싱 전략


cache aside
데이터를 어떻게 조회할 지에 대한 전략
데이터는 레디스에 저장되지 않고 DB에 저장.
DB에서 조회 전에 레디스에 있는 지 확인
DB로부터 데이터를 조회하고 응답, 레디스에 저장.
다시 요청 시, 레디스로부터 바로 가져옴.

캐시 히트, 캐시 미스.

캐시를 서버라는 거대한 크기로 만들어서 지역성을 이용하는 방법

write around

데이터를 어떻게 쓸 지에 대한 전략
레디스 조회 시 데이터 없으면 DB에 저장해주는 방식

쓰기 작업을 캐시에는 미반영, DB에만 반영.


한계점 및 해결방법
캐시된 데이터, DB 데이터 불일치 가능 (일관성 보장 불가)
캐시 저장 공간이 적다. (사용 공간이 주저장장치라 상대적으로 적음)

해결방법?
TTL 설정으로 대부분 해결 가능.
어쩔 수 없는 부분. Trade off가 발생함.
자주 변하는 것, 자주 변하지 않는 것?이 적절하다?

사용자가 요청을 해서 변경이 될 때 정합성 체크.
1. fetch같은 작업이 이뤄질 시(변경) redis와 DB 모두 반영하는 방법
	1. redis는 업데이트 됨, DB는 모종의 이유로 업데이트 안됨 같은 정합성 문제 발생 가능
2. DB에 먼저 쓰기, DB에서 리턴을 받아와 확실하게 저장된 것을 REDIS에 써준다!!!
	1. 리소스가 비싸다. 저울질이 필요하다.
3. DB에 넣어주고 처리 끝나면 redis에 요청 쏴주면 값 바꾸기?
	1. 클라이언트가 redis로 왔다리 갔다리보다 빨라진다... db가 관리하거나 레디스가 관리해주면 되서 클라는 신경 쓸 필요가 없다.
	   가운데에서 장애 생기면 오또케 하지말고 안전장치가 필요하다.

레디스가 정상 동작 시, 항상 동일한 성능을 낼 수 있을까?
아닐 것 같음. 그렇다면 그런 상황은?
메모리 히트인 경우, 빨리 가져올 수 있고... 정상적인 동작

주저장장치에서 작동하니, 저장공간이 휘발성 = 초기에 비어있음.
콜드 스타트다. 그래서 시작할 때 조금 손해를 봄.

그러면 이걸 어떻게 활용할까?

메모리에 있던 걸 디스크로 로드한다? 결국 DB를 활용하니 손해를 봄.

콜드 스타트 대신 미리 세팅을 해줄 수가 있다.
레디스 특징 중에 하나로 있다.
메시징 큐에서 모두 적용할 수 있다. 콜드 스타트의 해결책으로 난 것만은 아님. 장애상황 대응을 위한 기술이다.

메모리 날아가는 걸 방지하는 기술임?
영속성 옵션 킬 수 있음.
서버 죽으면 기존 DB나 로컬에 저장하고 재시작 시 메모리에 다시 업로드 해줌.
메모리 히트가 될 수 있는 상황이라면 꺼내줄 수 있는 상황.
중요 데이터, 많이 쓰는 데이터, 특정한데 가공하는 데 시간 많이드는 데이터(AI 이미지 등)은 영속성을 만들어서 장애상황 생길 시 빠르게 만들어주는 역할

서버 장애 생길 시 다른 연산작업 필요가 없다는 장점.

음.... 원리라던가 찾아보는 게 좋을 것 같음.


레디스는 해싱은 쓰는데 B-트리는 몰?루
해싱은 키값이 같은 경우를 어떻게 관리하냐?
해시 충돌을 체인법으로 관리한다. (일반적인 현대적 관리방법이당)

---

스터디 평가

워크북 같은 것을 이용하는 것이 만족도가 높았다.
문제 하나 가지고 해결해보기
단점은 파트장이 할 일이 많아진다...

일주일에 한번 하는 방식도 괜찮을 거 같고?

뭘 해야 우리에게 더 도움이 될지 고민해보기~