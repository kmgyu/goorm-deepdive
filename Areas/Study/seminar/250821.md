준영님 스프링 클라우드

클라이언트 사이드 로드 밸런싱
클라이언트가 직접 서브 인스턴스 중 하나를 선택해 요청을 보내는 방식

약간 게임 서버 선택하는 거 같은 건가?
netflix ribbon 같은 거?

서킷 브레이커
서비스 호출 실패가 일정 횟수 이상 발생? 열림
일정 시간 후 일부 요청만 테스트 - 정상일 시 닫힘
일부 요청 실패 시 서킷 반 열림

일단 나는 두꺼비집 같은 거라고 이해하고 있음.

메시지 통신? 비동기 지원?


대표적 구현체
스프링 클라우드 넷플릭스
넷플릭스 OSS를 스프링 클라우드 프로젝트와 통합.
MSA 개발을 쉽게 만들어주는 라이브러리 모음

서비스 레지스트리 유레카. 서비스 등록, 검색 가능
리본? 아까 말한 클라 사이드 로드밸런서
hystrix 서킷 브레이커


spring cloud config

consul

zookeeper
hadoop, kafka 같은 분산 시스템에서 사용됨.
분산 코디네이션 서비스?

spring cloud stream
메시지 브로커를 사용하여 msa 비동기통신...


유레카 서버 실습
게이트웨이가 일종의 프록시 역할인가?

스프링부트 web은 추가해주면 안된다.
webflux 기반이라 서로 충돌해서 안됨.

bytebytego
테크를 잘 정리해주고 애니메이션으로 보여주는 유튜버

외부에 열어둘 포트, 포트 포워딩은 어떻게 할 것이냐.

API 게이트웨이를 쓰는 이유?
보안 때문에
서버 결합성.
서버 간에 결합성을 떨어트려서 추상화 시키는 게 좋음.
내 서버를 내부에 오픈하지 않음.
도둑이 들어와도 아무것도 알 수 없다. (있는 건 알겠는데 정확히 어디인지는 모름)
구현하는 데 어려울 순 있어도 내부로 들어오긴 어렵다.
유저 입장에서는 알아서 다 해주니까 쉬움

두 번째로는 로드 밸런싱 가능

리버스 프록시 역할도 해줌.
서버 대신 해줘서 리버스 프록시가 된다.
nginx가 이거 가능.

요청을 통해 url 들어옴. url에 대한 검증도 해줌.

프록시
클라이언트에서 나가는 걸 포워드, 나가는 걸 리버스라고 한다.
메시지 전달 대리자 역할
캐싱, 클라이언트 암호화, 접근 제한 기능 제공

게이트웨이는 클라이언트가 요청을 하면 이 요청을 대신 원본 서버에 서비스 요청을 해준다.

답변도 대신해서 역으로 날려주는 리버스 프록시 역할도 함.

서버가 게이트웨이/프록시 역할 해줌
부르기 나름이라고 한다.
역할은 여러가지 가능
인터넷 망에서 서버측에 있는 것이 리버스 프록시? 게이트웨이?
인터넷 망에서 클라이언트 측에 있는 것이 포워드 프록시? 악!!

nginx
게이트웨이 역할하면서 프록시로 쓰기 가능


서비스 디스커버리

