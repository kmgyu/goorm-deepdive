
타임리프 특징
- SSR
  타임리프는 백엔드 서버에서 html을 동적 렌더링하는 용도로 사용
- 내츄럴 템플릿
  [[8. spring-mvc-webpage]]
  참고.
- 스프링 통합 지원
  타임리프와 스프링은 자연스럽게 통합되고, 스프링의 다양한 기능을 편리하게 사용할 수 있게 지원함.

---

# text, utext

### html 엔티티
`<b>`와 같은 태그를 출력 시 문자로 표현할 수 있는 방법 필요.
이것을 html 엔티티라고 함. 특수 문자를 html 엔티티로 변경하는 것을 이스케이프 라고 한다!
th:text, `[[...]]`는 기본적으로 이스케이프를 제공한다.
`<` -> `&lt`
`>` -> `&gt`
기타 수많은 html 엔티티 존재

> 추가 내용은 검색할 것.

Unescape
이스케이프 기능을 사용하지 않으려면 utext를 사용한다.

th:utext, `[(...)]`를 이용하면 unescape 기능을 이용할 수 있다.

왜? 이스케이프 처리를 할까?
사용자가 임의로 작성한 태그들 때문에 스타일이 깨질 수 있다. (언급 안했으나 script같은 태그 넣으면 보안 문제 발생 가능. gpt는 출력 인코딩 미비에 따른 XSS로 분류할 수 있다고 한다...?)
태그도 사용하도록 의도할 경우 언이스케이스 처리를 하는 것이 맞다.

---

# Spring EL

변수 표현식? `${...}`

> 가끔씩 인텔리제이가 문법 오류를 만들 때도 있다고 함.

스프링 EL 표현식들

`${user.username}`을 하게 되면 오브젝트에서 바로 접근하는 것이 아니라, getter를 이용해서 가져온다고 한다. 그냥 getter 표현식도 가능함.
`['username']` 같은 식으로도 가져올 수 있다.

List의 경우, `[0]`처럼 인덱스 넣어서 쓸 수 있다. 필드 접근은 오브젝트와 동일

Map의 경우 `['user']`처럼 사용해준다. JS랑 유사함. 필드 접근은 이것도 동일함.

타임리프도 지역변수 선언이 가능핟.ㅏ
th:with = `fisrt=${users[0]}`
이런식으로 활용 시, first라는 지역변수를 활용할 수 있다.

---

# 기본 객체들

session 맛뵈기

request, response, session, servletContext, locale

예시
${#request}
${session.sessionData}
또는 빈도 직접 접근 가능함.

---

# 유틸리티 객체와 날짜

문자, 숫자, 날짜, URI 등을 편리하가ㅔ 다루는 다양한 유틸리티 객체가 존재함.

타임리프 공식문서에서 예제를 잘 설명해준다!

자바 8 날짜
LocalDate, LocalDateTime, Instant 사용 시 추가 라이브러리가 필요한데, 타임리프 라이브러리에 포함되어있다.

`#temporals` 사용 가능!
`${#temporals.format()}` 해서 포매팅도 가능하다. 기능 많음.
