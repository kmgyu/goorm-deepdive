트랜잭션
커밋 롤백

update 결과가 0인 경우 롤백 안됨
```java
@Transactional  
public void updateUser(Long userId, String name) {  
    int count = userMapper.updateName(userId, name);  
    // count = 0 (해당 사용자 없음)  
  
    // ❌ 롤백 안됨! 오류가 아님  
    // 단순히 "업데이트할 대상이 없었다"는 뜻  
}  
```

예런타임, 잘못된 인수 등이 롤백을 일으킨다.
IOException이나 SQLException은 롤백 안되고 checked exception으로 분류됨,.

transaction은 서비스에만 사용할 

readOnly=true
쓰기 작업에만 따로 설정

트랜잭션도 너무 크게하면 시간 오래걸림.

업무 프로세스 정의에 따라 달라진다.

과제
1. company_discount_history 제외 하고 orders 사용  

2. 주문 등록시 inventory의 reserved_stock 컬럼 사용


enum 타입이슈
```sh
 Data truncated for column 'payment_status' at row 1
```


```sql
ALTER TABLE orders 
MODIFY COLUMN payment_status ENUM('PENDING', 'COMPLETED') NOT NULL;
```
flyway에 없어서
따로 실행해야 함.

5번은 심심하면 해봐라?
엔티티 계획 같은 건 꼬이니까 하지 말라는 데 몰루;

주문 시 승인 프로세스 넣어봐라?

