
어제 내용 복습
jpa
cascade는 생명주기 개념
편의 메서드는 각 객체 간의 상태 동기화 개념

양방향 상태 교류가 활발할 경우 양방향으로 편하게 가져오는 경우가 좋다?
동기화되지 않을 경우 의도치 않게 DB를 잘못 사용할 수 있어 양방향을 지양하는 것... (DB 무결성을 깨뜨리거나 하는 듯?)
> 그냥 잘 생각해보고 쓰라는 소리이다.

jpa 쓰는 조직은 보통 리더가 있다. 그러니 그거에 대한 걸 정리하게 될 것이고 이거 써라 쓰지 마라 해줄 것임. 그러니까 왜 쓰지 못하는 지에 대한 이유 같은 것을 미리 알아두고 가면 좋다.

---

단독 OneToMany 문제인 이유?
거꾸로 가다 보니 리스트를 가지게 됨.
핸들링에서 이슈가 생긴다.

특별한 이유 아니면 many2one 써라.

---
개선?
N:1, N:1 단방향 - Aggregate 내부만 양방향
팝업 api - 직접 접근 가능
service 비즈니스 로직 분산 - 엔티티에 비즈니스 로직 캡슐화
수동 데이터 관리 - cascade 자동화
통계 없음 - queryDSL 통계
낙관적 락 -  낙관적 + 비관적 락

---

LazyInitializationException

lazy loading 시 컨트롤러 레이어까지 엔티티 변환 안해줄 경우 이 문제가 발생할 수 있다. 엔티티를 dto로 변환하지 않는 것.

---

hateoas
데이터와 링크 제공?
기존 rest api는 클라이언트에서 url을 알고있어야 했으나, hateoas는 이런 url을 제공해준다.
만약 기존 rest api에서 도입시 백엔드와 클라이언트 모두가 전환해야 하는 불편한 점 존재

---

graphQL?
프론트에서 필요한 데이터만 가지고 올 수 있도록 만든 것.
DB, 백엔드 등에서 쿼리를 통해 필요한 데이터를 요청.

내가 조사한 게 더 많다.
[[GraphQL]]
[[GraphQL-ezVer]]

rest와 graphQL 공존 전략?
rest를 완전히 대체하지 않고 병행 운영하는 것이 좋다고함.
rest: 간단한 crud, 공개 api, 캐싱 중요한 경우
graphQL: 복잡한 데이터 조회, 모바일 앱, 프론트 주도 개발

AWS는 최종적으로 수요일에 완성 예정

프로젝트
전체 3단계?
1단계
1-1. 10일 정도 하나의 주제를 가지고 클론 코딩
발표 및 요구사항 더하기
1-2. 요구사항 구현?
2단계
카카오 api를 이용한 지도 서비스
3단계
기획/디자인/프론트엔드 협업
4명 이하는 빡세니까 2팀으로 나뉜다고 함..

