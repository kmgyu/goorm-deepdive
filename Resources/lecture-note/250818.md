MVC

MVC도 유형이 나뉜다.

Model 1은 JSP 중심, Model 2는 서블릿 중심

Model2 구조
JSP 뷰 / 서블릿 컨트롤러 / 모델 DAO

서블릿이 요청을 받고, DAO가 비즈니스 로직을 처리하낟.
컨트롤러가 모델의 결과를 받고 뷰에 결과를 출력한다.

주요 구성 요소?
모델
VO, DAO로 구성됨
비즈니스 로직 처리, DB 접근, 데이터 검증

뷰, 컨트롤러도 볼 것


모델2의 문제점

개별 서블릿이 증가함
각 엔드포인트마다 하나씩 생성된다.

Front Controller 패턴이 등장함.
하나의 컨트롤러가 모든 요청을 받아 처리한다.
Command 패턴으로 세부적인 요청에 대한 분기를 처리한다.


스프링 MVC와의 연결점?
DispatcherServlet이 프론트 컨트롤러임
커맨드 패턴? @Controller 메서드(어노테이션 아님?)
수동 매핑 -> @RequestMapping으로 자동 매핑
수동 DI -> 자동 의존성 주입

**Java 웹 개발의 진화:**

```
JSP only → Model 1 → Model 2 → Front Controller → Spring MVC
```

**설정 방식의 발전:**

```
web.xml → @WebServlet → @Controller → @RestController
```

Spring WebFlux는 리액티브 프로그래밍이라 해서 논블로킹이랑 비동기 처리를 한다는데 reactive context는 쓰레드 비동기 전략 찾아보다가 알게됨
여기서 나온 말이었다!

---

실습은 강사님이 프로젝트가 고장났다고 함.
WebContext가 인식이 안된다고 함.


Facet과 Artifact

### 1. Facet (파싯)

**정의:**  
프로젝트가 어떤 기술 스택을 사용하는지 IntelliJ에 알려주는 설정.  
즉, **IDE에게 “이 모듈은 이런 기술을 쓴다”라고 알려주는 표시**라고 보면 됨.

**주요 특징:**

- 모듈의 기술 스택 정의 (Web, Spring, JPA 등)
    
- IDE가 해당 기술에 맞춰 코드 지원, 자동완성, 오류 검출 가능
    
- 프로젝트 구조와 설정 파일 인식
    

  
`File → Project Structure → Facets`

### 2. Artifact (아티팩트)

**정의:**  
프로젝트를 빌드했을 때 나오는 **최종 배포 결과물**의 형태와 포함 내용을 정의하는 설정.

**주요 특징:**

- 최종 배포 파일 형태 결정 (JAR, WAR, EAR 등)
    
- 포함할 파일/라이브러리 지정
    
- 실제 실행 혹은 배포 시 사용
    

  
`File → Project Structure → Artifacts`

### 3. Facet과 Artifact의 관계

```plaintext
Facet (기술 정의) → Artifact (배포 형태)
      ↓                    ↓
웹 기술 인식        →    WAR 파일 생성
Spring 지원         →    실행 가능한 JAR
JPA 설정           →    라이브러리 포함
```

- Facet: **“무슨 기술을 쓰는지”**
    
- Artifact: **“어떻게 패키징/배포할지”**
    

---

### 4. 실제 예시 (웹 프로젝트)

**1. Facet 설정**

```plaintext
Web Facet 추가
- Web Resource Directories: src/main/webapp
- web.xml: src/main/webapp/WEB-INF/web.xml
- Context Path: /myapp
```

**2. Artifact 설정**

```plaintext
WAR Artifact 생성
- Output Directory: out/artifacts/myapp_war
- 포함 요소: 컴파일된 클래스, 라이브러리, 웹 리소스
```



실습
IntelliJ에서 톰캣 붙여서 프로젝트 구성하기
Facet 및 Artifact 등록

이렇게 세팅하면 실행 세팅이 완료된다.
IDE 다루는 방법이니 알아두면 좋을 것...

+외부 라이브러리 추가할 땐 폴더로 추가하면 안되고 라이브러리들 직접 다 추가해야한다.
등록이 정상적으로 되지 않을 수 있다.