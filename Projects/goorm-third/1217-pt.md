발표 사전 질문

채팅 기능 질문
채팅 기능 구현 시 어떻게 구현이 된 건지 궁금함.
메시지큐라던지 이벤트 처리 같은 것에 대한 것이 안보임.
백엔드에서 웹소켓으로 직접 구현한 것인지?

밴드 여러 개 가입 가능함? -> 가능함.

조회수가 있던데 조회수는 어떤 식으로 책정함?
id 기반으로 조회수 책정?
그럼 한 번 들어간 글은 1년 후에 다시 들어가도 조회수가 그대로인지?
아니면 일정 주기로 조회수 쿨타임 갱신함?


ERD 질문
유저랑 밴드 멤버에도 권한이 있던데 이거 뭐임?
유저에 있는 권한 뭐임

### 심사위원
매니저 손정은님
강사 우리 강사님.
외부초청 김태정 강사님?
k8s 알려주신 그 분인듯.

---

# 신사들 발표

준영님이 발표를 맡았다.

## 질문 및 답변

### 외부 초청

길찾기 아이디어 좋은 것 같음. 근데 설명은 좀 상세히.. ㅎㅎ!

트러블 슈팅
상세했어야 하지 않나 싶음.
진행하면서 물어볼 점이 많을 수 있을 건데...
트러블 슈팅은 돋보이는 부분임.
여기서 뭐가 돋보이는 건지 알기 힘듬.
3, 4번은 참고 자료라던지 수치라던지 넣을 수 있을 것 같다.
트러블 슈팅일 수 있겠지만 운영도 생각해야 하고 요즘 그런 걸 신경 쓰는 추세. 모니터링이라던지 로깅 같은 부분, 배포 확인하는 것들을 추가할 수 있었으면 어땠을까...

전반적으로는 구현 잘 했음.
관리하는 부분도 같이 생각을 했다. (데이터 최신화 같은 거 말씀하시나?) 레디스로 성능 생각한 점, PostgreSQL 도입했던 점...

PostGIS 같은 거 있어서 그거 활용한 것 같은데... 잘 한듯!
(사실 안함.)

### 강사님

데이터 최신화 방법 좋은 듯.
관리자가 정보를 수정하는 방식.
사진 넣어서 확인할 수도 있고...

### 마지막 잎새 질문

신수호님
충전기 정보가 최신이 아니면 실제 충전에 문제가 생길 수 있다.
그렇다면 어떤 출처에서 가져오고 어떤 방식으로 최신화 하는지?
그 출처가 공공 DB라면 웹도 같이 최신화가 되지 않는 구조인지 궁금함.

> 기존 어플은 공공 DB를 사용하지만 최신화가 안되어있다.
> 사용성이 떨어지기도 하기 때문에 정보 최신성을 사용자를 통해 추가적으로 얻고자 하였음.
> 사회적 가치를 생산하고 싶다는 취지.
> 검증 과정도 고려했음. 사용자가 수정할 수 있도록 하는 것도 생각했으나, 어려워서 관리자를 중간에 두었다!

안지철님
회원 정보 처리에 관해...

> 비밀번호 encrypt로 진행. 폼 로그인의 경우!
> SNS 로그인의 경우, provider 저장 시 encrypt로 암호화하여 저장.
> 사용 시 복호화하여 사용한다.
> 프론트에도 클라이언트 id가 들어가 있긴 한데, 사용자 입장에서 볼 수 없게끔 마스킹 처리해두었다.
> 개발자 입장에서도 DB 봤을 때 사용자 id를 알아볼 수는 없도록 만듬.

안지철님
개인정보와 같은 것들은 DB 접근할 때 로그 남겨야 하는 것으로 알고 있음. 구현이 되어 있는지?

> 구현은 해두지 못했음.

유정님
관리자가 최신성을 반영한다고 하였는데, 각 충전소의 관리자인 것인지?

> 장소별 관리자가 아니라 우리 서비스의 관리자 의미.

희건님
트러블 슈팅에서 사용자 보호자 관리 쪽에 관리 시 복잡성이 높은 상황.
복잡성이 높다고 판단한 기준이나 테이블 수를 감소시켜 얼마나 성능을 향상 시켰는지?

> 관계 테이블과 보호자 테이블이 별개로 존재하였음.
> 그런데 User Role 컬럼으로 구분하는 것이 더 맞겠다 싶어서 이렇게 구현함.



---

# 마지막 잎새 발표

지철님이 발표를 맡았다.

## 내용

### 개요

기존 사례들
공연 절차, 공연 장소가 정해져 있는 서비스
합주 동료를 구하기 어려운 서비스
등이 대부분이었음.

연주자 관점에서 언제 어디서나 원하는 때에 합주 모집
지도 활용해 직관적 모집 제공하고자 함.

역할 소개~

### 서비스 소개

로그인, 지도, 밴드, 채팅, 커뮤니티

카카오톡 계정 연동으로 OAuth만 지원

로그인 완료 시 랜딩 페이지 (지도)
지도와 리스트로 간단하게 이루어짐.

사용자 위치 기반 근처 연주자 위치 표시
지도 상 마커를 통해 직관적으로 연주자를 탐색 가능.



(밴드)
밴드를 신청하거나 사용할 수 있음.

밴드는 밴드 채팅 바로가기, 멤버 목록으로 이루어짐.

모집글 작성이나 밴드 삭제, 멤버 관리 등이 가능함.

(커뮤니티)
커뮤니티 글은 자유롭게 작성 가능.
새로운 글 순서로 내림차순 정렬

메뉴 구조도~

### 기술 소개

기술 스택 및 인프라

EC2만 public으로 열고 나머지는 private로 만들어서 보안 신경 썼다.

ERD

프로그램 흐름

기능 별 설명

### 결과 시연

데모~
프로필 사진은 고려를 했는데 API를 호출할 수 있는 권한이 없어가 기본 프로필 이용하도록 구현함.

## 질문 및 답변

### 외부 초청

항상 이런 서비스가 좋다.
도메인 특화 서비스를 생각했다는 점에서 누군가 밴드를 했으니 이런 아이디어가 나왔을 듯.
재밌다는 생각을 했음.
필요한 기능들을 다 구현한 것 같음.
기술적인 것 보다 아쉬운 부분이 몇 가지 존재했음.
밴드라는 도메인을 가지고 있다. 그런데 이것이 과연 밴드에 특화된 서비스인지 궁금증이 있다.
기존 모임 앱과는 차이점을 찾기 힘든 것 같다.

> 두 가지로 설명 가능할 듯.
> 1차 설계 때는 개인 프로필을 화면 노출할 수 있도록 기획을 했었다.
> MVP 구현에서는 아쉬워서 빠짐. 밴드 위주 진행
> 사업적 측면에서 역할이 중요할 것 같다. 결국 같은 형식으로 멤버를 구하는 형식이지만 모집글 같은 경우 가벼운 동아리 느낌보다 실제 업으로 사용을 하고, 면접등을 이용하는 것들이 주가 되어있다.
> 커뮤니티 기능을 이용해 가볍게 만날 수 있도록 기획한 것임.

가볍게 라는 취지는 이해함.
도메인 특화라는 것이 생각할 취지를 준다고 생각함.
기술적, 문제 해결적으로...
레슨 특화라던지 결제를 시킨다던지 플로우를 만들면 생각해볼 여지가 있음.
장르나 파트를 기존에는 텍스트로 적었던데 DB에 넣어서 관리하고...
파트원을 따로따로 모집할 수 있다던지...
검색 기능도 있다면 좋다고 생각이 듬.
장르나 파트 등을... 이걸 그렇게 만든다면 포트폴리오가 좀 더 풍성해 질 듯!

지도 마커도 살짝 아쉬움.
로고가 뜨게 한다던지, 특정 파트를 모집한다면서 키보드 아이콘이 뜬다던지 충분히 할 수 있을 것 같은데... 좀 차별화할 수 있지 않았을까?
서비스적이 아니라 생각해보고 어떤 솔루션이 필요해서 진행할 수 있지 않았을까?
특화된 것이 아니기 때문에 너무 범용적이고 뻔한 느낌이 되었다.

앞 조와 똑같은 얘기긴 한데 운영적 부분을 설명할 수 있었으면 좋았겠다.

> 1차 기획에선 도메인을 활용하기 위해 자동 매칭과 같이 매칭 소재로 갖고 있었다. 현재 기능이 2주차에 완성이되고 3주차에 redis, mq 등으로 매칭 특화 기반으로 진행하려고 했는데 기획안에 있던 것들이 많이 빠지게 되었다.
> MVP 내에서 우선순위를 잘못 정한 것 같음.
> 운영 같은 경우에도 배포 시점을 살짝 앞당겨서 기능적 릴리즈 단위를 짧게 끊어서 운영 시간을 확보했다면 데이터 구축이 되었을 텐데 아쉬운 것 같음.
> FE 마커도 디테일 부분에서 빠진 것이 많음. 멤버도 프로필(파트 같은 거) 보이게 해줘야 한다. BE 포폴을 채우려다 보니 기획을 등한시한 부분이 있었다. 3-4일 정도 기획해서 프로토타입 만들었다면 이런 디테일 챙길 수 있었을 텐데 시간이 얼마 안남아서 몰려오다 보니 못했졍

### 강사 피드백

BE도 어디에 중점을 둘지 이슈 있음.
FE에 큰 관심이 없음.

기반에 충실한 것 같았다.
기반에 대한 구성을 만들었으니 향후 그런 부분 집어넣거나.
버스킹 거창한 것들? 합주 오픈해서 일반 사용자가 볼 수 있도록 해서
회원가입 안하더라도 참여 컨텐츠 만든다던지
유튜브 동영상 같은 것들을 이 앱에 오픈 시킨다던지 있었는데 그런 것들이 안 나온 것 같다.

뮤지션들에 대한 부분에 말씀드린 것.
사용자들이 많이 와야하는 관점으로 했었는데 구현이 안된 것 같당.
탄탄하게 기능들을 구성한 것 같다.
자질구레한 것들 만들기 쉽지 않은데, 완성도 높았다?


### 신사들 질문

정준영님
밴드 매칭이 주된 프로세스
노쇼라던지, 혹은 악천후, 주변 행사로 인한 변수로 일정이 변경된 경우가 실제로는 잦다. 이런 위험 상황들을 대비해야하는 고려사항이 많은 것 같은데, 이 어플 안에서 대책을 만든 것들이 있는지? 만약 없다면 대비할 수 있는 계획이 있는지?

> 지금 서비스들은 메시징에 의존을 많이 하고 있음.
> 확장 계획 같은 경우 메시징으로 알림이 갈지, 또는 현재 모듈러 구조로 각 모듈마다 기능이 나뉘어져 있기 때문에 매칭 서비스로 알림을 보낼지 고민 해봐도 될 듯.
> Firebase 통해서 어플에 알림 가도록 만들 것 같음.

김민성님
비슷하게 했던 부분이 있는데 사용자가 보호자에게 알림 보내거나 시그널 보내고 실시간 위치를 직접 보냈다. 레디스 pub/sub 패턴으로 지속적으로 전달 받도록 했었따. 중간에 데이터 소실되는 문제가 있었음. 그런데 채팅 서버를 구현 했을 때 메시지 소실에 대해 검증하는 것이 있는지 궁금함.

> 실제 운영상황을 기준으로 설명드리자면
> 브로드 캐스팅으로 로그를 추적함.
> 메시징이 생각보다 소켓을 하드하게? 열고 있진 않아서 그런 이슈를 겪지는 못했다. 트래킹할 수 있는 로그, 테스트 환경에서는 브로드 캐스트로 내 메시지를 확인할 수 있었다.
> 저수준 보다는 고수준 API를 이용했어서 원하는 답변이 되었을 지는 모르겠다.

연결이 중간에 해제가 되서 재연결하는 프로세스에서 문제가 있었다. 그런 것들도 구현을 해보았는지? WebSocket Stomp 쓴 것으로 보인다. 재커넥션에 대한 내용이 궁금하다.

> 클라이언트에 retry 정책이 있어 요청을 불러오는데에 에러가 있으면 재연결을 한다.
> 통신하는 중간 말고 소켓이 끊겼을 때도 고민을 해보았을 것으로 보인다. 그런 경우에 대해서는 따로 처리하고 있지 않다.
> 메시지 알림 책임을 메시지 모듈에 두지 않고 나중에 Firebase를 통해 알림 기능을 전가 하려고 설계를 했다보니 소켓을 계속 열어야 한다는 것은 고려하고 있지 않았음. 어떤 문제를 야기할 지는 봐야겠지만 OS에서 메시징 같은 경우 메모리가 살아있는 것으로 알고있는데 소켓을 구현해볼 수 있을 것 같음.
> 끊겼다는 경우 백오프 전략 필요?

우리는 정확히 갔는지가 확인해야해서 이런 질문했었당

> 프로젝트 상관없이 답변해주자면 굉장히 많은 시나리오를 생각해야 함.
> 두 가지 정도로 가장 안전한 방식을 사용할 수 있음. 카톡같이 외부 API를 이용하거나 Firebase 이용.
> 어플이 백그라운드로 동작하지만 Firebase 메시징 기능의 경우 OS가 따로 메시징으로 굉장히 오래 잡는 것으로 알고 있음.
> 알림의 경우 알림 서비스/모듈에서 보내야 된다. 라는 생각을 하고 있다보니 메시징은 고려하지 못한 것 같다?

준원님
랜딩페이지 지도 보여주는 것의 기준이 어떻게 되는지 궁금하다.

> 현재 구현 기준
> 팀원 모집 글을 올릴 경우 필수적으로 위치 찍어준다.

그룹 모집 마커가 생기면 불러올 때 기준이 있는 것인지?
또는 우리나라에 있는 모든 마커를 불러오는지?

> 화면 내에서만 불러온다.
> 서버에서 점 4개 기준으로 스캔해서 가져오는 것
> 이동할 때마다 호출을 하고 있다.

서버 쪽 부하의 경우 발견되었는지?

> 특별히 발견되지는 않음.
> 카카오 SDK 좌표 기준으로 보내게 된다.
> 드래그 할 때마다 걱정될 정도로 호출을 하진 않아서 데이터가 많이 늘어났을 경우 다른 방법 추가해보는 것 말씀하신 것처럼 좋을 듯(이 사이에 클러스터링 얘기함.)

김민규
- 발표 사용된 사진 질문
시연에서는 비어있는 상태로 진행을 했는데, 각 기능을 설명할 때 사용된 페이지는 이미 게시글이나 채팅같은 것이 존재했다. 목데이터를 채워둔 것인지?


- 랜딩 페이지의 지도에서 사용자 기반 주변 연주자 표시 질문
근처 연주자를 찾는 것은 현재 서비스를 사용하는 중인 사용자의 실시간 위치를 찾는 것인가?

> 프로필 공개하기로 한 사용자에 대해서만 뜬다.
> 사용자의 프로필 기반 위치정보가 뜨게 된다.

사용자가 사용할 때만 위치를 수집하는지?
이런 건 따로 DB에 저장하는 것인지? 로그로 저장하는지 단발성으로 저장하는지


- ERD 질문
ERD 보니까 유저랑 연관관계 매핑이 안 되어 있었음.
이것은 의도한 것인지?
무결성 검증을 백엔드 측에서 해야할 것으로 보이는데, 이것을 현재 관리하는 전략이 존재하는지?

없다면 어떻게 관리할 것인지?

추가적으로, 유저에도 role 필드가 있던데, 이것은 어떤 필드인지 궁금함.

> uid는 많이 사용해서 더러워질 까봐 미리 빼둠.
> FK로 적어놓긴 했지만, 실제로 걸어놓지는 않았다.
> 실수로 변경됫을 때는 전파가 될 수 있기 때문에 FK 제거하고 무결성은 주기적인 쿼리로 체크하여 고아 객체를 찾아서 제거한다.

> User Admin 나누려고 미리 추가해둔 것임.


## 초청 강사 총평

항상 보면서 느끼는 거지만 짧은 시간 동안 많은 거 만들어주었다.
만드는 과정에서 얘기하는 것들이 반드시 필수적인 것은 아님.
이런 게 있으면 좋았을 것 같다...! 라는 얘기
세미 프로젝트로 알고 있다. 파이널 프로젝트 때는 이런 것들을 신경써서 더 좋은 프로젝트 할 수 있을 것이라고 기대하겠다.