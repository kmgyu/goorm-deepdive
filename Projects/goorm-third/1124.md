25일 18시까지 기획서 제출

구현 핵심 요소보단 기획이 말이 되도록


카카오 api가 tmap api와 호환이 될까?


# 좌표계 문제

일단 각 좌표계를 알아보고 차이가 있는지부터 시작한다.

## 데이터 셋

표준데이터의 경우 좌표계가 제대로 나와있지 않음.
공공데이터 포털 - 정보 공유 - 공지사항 - 공공데이터 제공 표준 20차 개정 - 2. ~~~ 제개정 전문.hwpx 확인하여 각 필드별 상세 설명을 확인 가능

[전국전동휠체어급속충전기표준데이터](https://www.data.go.kr/tcs/dss/selectStdDataDetailView.do#)
위경도가 WGS 84를 사용하도록 표준화되어 있다.

## 카카오 맵
https://devtalk.kakao.com/t/topic/136523/3
EPSG:5181

## T MAP
[보행자 경로 api](https://tmap-skopenapi.readme.io/reference/%EB%B3%B4%ED%96%89%EC%9E%90-%EA%B2%BD%EB%A1%9C%EC%95%88%EB%82%B4)
좌표계 유형 지정 가능
WGS84 지원함. (기본값)


## 어떻게 변환할 거임?

[카카오 로컬 API 좌표계 변환](https://developers.kakao.com/docs/latest/ko/local/dev-guide#trans-coord)
지원 좌표계에 WGS84가 있다. 
WGS84 (a.k.a EPSG:4326)
`WGS84`, `WCONGNAMUL`, `CONGNAMUL`, `WTM`, `TM`, `KTM`, `UTM`, `BESSEL`, `WKTM`, `WUTM` 로 변환 가능함.

즉, 카카오 이 모순적인 놈들은 이것조차 제대로 못하는 카슝좍이라는 거임

Pro4j (projection for Java 인듯?)를 이용해서 좌표변환해주자. 따로 라이브러리 쓰는 방법 밖에 없다.
참고로 구글도 5181같은 한국 기준 좌표계 지원안해주는 것으로 보임.


# 데이터 포맷

TMAP을 카카오 맵에 적용시켜야 한다.
어떻게? 잘 보내줘야 한다.
좌표계 변환을 BE에서 하므로 직접 다 까서 해줘야 함.
속도는 js에서 해주는게 솔직히 훨씬 빠르다. 씨이이이이이이이이

# 주체

BE에서 해준다.




# 질문들

> 공통 예외 처리 어떻게 할 거?
시나리오
데이터 전처리 (GeoJSON), 경로

> TMAP에서 리스트 쭉 받아올 건데 성공에 담아서 프론트에 넘기나?
API response 공통 반환에서 json body 하나만을 넘길건데, 배열 객체로 넘길 것인지?
경로 만들어줄 때 그냥 data 안에 위경도 만들어주기


> (내가 질문) 카카오 모빌리티 API 포맷 만들었던데 TMAP 사용해도 그 포맷 유지할 것인지?
ㅇㅇ


준영님
실시간 위치 표시는 마커를 통해 표시?
그걸로 하려고 계획 중

---

# 개발 계획

프로젝트 내에서 사용 가능한 좌표 변환 유틸리티 API 스펙 설계 (FE, BE 모두 사용 가능하면 더 좋을 듯)
TMAP API와 BE 연동 (DTO 변환...)
공공 데이터 스키마 정리

Polyline(지도 경로) 생성 및 ETA 계산 로직 설계
주소 정규화, geocoding은 카카오 API 활용

프론트 렌더링 및 BE 연동

예외 처리 로직

ERD 설계
플로우 차트 작성
시퀀스 다이어그램 작성
클래스 다이어그램 작성

