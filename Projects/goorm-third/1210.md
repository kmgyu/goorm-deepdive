1209 안나옴
활동 공유 필요

출결 이슈?
자리 비우는 거 뭐 면밀히 검사할 예정이라고 함.

업데이트

민성
실시간 알림은 리패토링 필요. 완료함.
-> path에서 엮인 부분 존재.

redis에서 손봐야 할 곳이 있음.

준영
백 개발

보호자가 사용자한테 제보, 사용자가 이걸 봐야 함.
연결관계가 필요할 것 같음.
관리자 회원가입이 필요함?
DB에서 관리자 하나랑 보호자 하나 만들고 된다고 생각하고 진행하면 될 듯?


준원
AWS 서버 배포 되게 끔 작업 중
EC2 만들어서 생성, 필요한 패키지 설치.

민규

기능 뽑아보기



UI 라벨 지워버리고 마음대로 만들기



미리 publishUserLocation 줬다.
Redis 정책 상에서 문제 발생

시작점, 종착점, 주소값 등을 보호자가 볼 수 있도록 구현 필요.
보호자가 반드시 봐야한다는 것이 존재함.

데이터가 중간에 유실되면 안되는 조건 존재
pub/sub 패턴은 broadcasting 해서 보내면 되지만 subscriber는 중간에 유실 가능성 존재.

Redis stream으로 변경해야 한다.
연속성을 지원.


redisStream() 어떤 식으로 실행하면 될 듯.
Stream
왓? me가 할 필요가 없다고?


---

마커가 안보영...
거스러미 같은 불편함

랜딩페이지가 필요할 거 같음.
이유 : 시연할 때 이쁨


프론트쪽에서 시작점, 끝점 잡고 시작. 하면 네비게이션 시작!
그렇게 됐을 때 path 제공
특정 메서드가 실행이 되서 아 나 이 경로로 갈 거야. 라는 것임.
Redis Stream 쪽으로 해당 path가 제공이 되고, 사용자가 진행하다가 도착하게 되면 도착 알림.
Stream에 있는 location 데이터를 삭제

시작 시 Streams에 넣기, 종료 시 Streams에서 빼기

네비게이션에서 사용자가 일회성에 Redis로 저장됨.

'경로' 데이터를 Streams에 넣어주기
그 경로 가시화가 필요함.


일단 만들어보고 나중에 이렇게 확장할 수 있다도르로 넘기기
도착했습니다

Redis Stream 밀어넣기, 없애기 만들어줄 예정

Redis Stream에서 저장할 때는 location, id jwt 토큰 받아오는 거
pathFindRequestDTO
Stream에서 경로 데이터 삭제 시 Relation ID만 필요함.


흠.... 데이터 자체를 트리거 할 만한 방법이 없을까?
1. redis stream에 경로 데이터 저장 : relationId, PathFindRequest  
2. redis stream에 경로 데이터 삭제 : relationId


> 경로 데이터인데 왜 redis를 사용하는가?

보호자도 같이 이 경로를 확인해야 하기 때문

실시간 위치 알림이 있으니 일단 구성해야 할 것 같았따~


# TODO
기능 확장
길찾기 서비스를 길안내 서비스로 확장
- [x] 도착지 인접 시 인접 알람 길안내 종료
- [x] 보호자에게 경로 보여줘야 함.
	- [ ] 캐싱으로 좀 더 효율적으로 보여줄 수 있을까?
	- [ ] 네비게이션 안내 시작 시 보호자에게 보여져야 함.
	- [ ] 현재는 pathFind 입력 기반으로 보호자에게 안내가 간다.
- [x] API 사용 대기열 기능
	- [ ] rabbitMQ 사용하여 대기열 구현하기
	- [ ] 어쩌면 Redis를 사용할 수도 있겠음.
- [ ] 경로 정보 기반 횡단 보도 이용, 좌회전 등 안내 서비스
	- [ ] 접근성 기능 (음성 안내)

---

카프카 스트림 업데이트 됨
PathStreamer

publish가 추가, delete가 있던 데이터를 메서드로 제거
아무데에서나 꺼내서 publish랑 delete로 제거해주면 됨

비밀키

사용하지 않는 dto
path쪽에서 더이상 사용하지 않는 dto
redis가 common에 사용안하는 것
그리고 publish 코드 삭제


경로가 없어지는 케이스
1. 경로 안 따라가!
2. 경로 도착

1시에 메인 세션 모이기
- 프론트에서 실력 없는 사람이 있다고 불만을 내비침
- 엄...;;

1. role 직렬화 문제.
   String인데 enum 타입 즉시 직렬화 한다. 이거 이렇게 안됨.


마커 가시화 mapView

충전소는 lib/stations


어느정도 축소를 하게되면 호출을 다르게 해서



K means Clustering 알고리즘
타일링
시군구

시군구는 레디스 캐싱할 수 있음.


시군구 단위에서 묶어준다.
이걸 특정 축적도 이상에서는 만들어줌

데이터 구분 해주면 될듯!
정렬은.. 멀라! 페이징 해주자.
커서 기반 페이징도 좋을 듯.

배치 작업 할 때 얘도 같이 등록 하고 서버 킬때마다 레디스에 캐시 웜업 해주면 좋을 듯
일단 만들고 보자.