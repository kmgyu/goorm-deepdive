엔티티 상속 관계 테스트
DB 세팅하고 바로 진행

API 명세 작성. 문서 있다

https://apis.map.kakao.com/web/guide/#step2
좌표 그릴때는 WGS 84니까 좌표 변환이 필요없다네...?
뭐지??? 죽을게

TMAP API는 지정된 구역에서만 보행자 길찾기 API를 제공한다.
그럼 제공 구역이 아닌 곳은 어떻게 해줄까?

API 테스트

테스트1
```json
{
"startX": "126.547121",
"startY": "34.897521",
"endX": "126.549669",
"endY": "34.897907",
"startName": "%EA%B4%91%EC%B9%98%EA%B8%B0%ED%95%B4%EB%B3%80",
"endName": "%EC%98%A8%ED%8F%89%ED%8F%AC%EA%B5%AC",
"searchOption": "30",
"sort": "index"
}
```
결과는 오류가 나오지 않는다. 카카오 API와 동일하게, 차량 경로를 알려주는 것을 확인 가능하다.
[kakao API](https://map.kakao.com/?map_type=TYPE_MAP&target=car&rt=396515%2C389549%2C397097%2C389653&rt1=%EC%97%90%EC%9D%B4%EC%B9%98%EC%8A%A4%ED%80%98%EC%96%B4&rt2=%EC%B9%B4%EC%B9%B4%EC%98%A4%ED%8C%90%EA%B5%90%EC%95%84%EC%A7%80%ED%8A%B8&rtIds=%2C&rtTypes=%2C)
Tmap은 직접 확인해야됨 (kakao-test)

테스트1
```json
{
"startX": "126.802431",
"startY": "36.450827",
"endX": "126.805835",
"endY": "36.449050",
"startName": "%EA%B4%91%EC%B9%98%EA%B8%B0%ED%95%B4%EB%B3%80",
"endName": "%EC%98%A8%ED%8F%89%ED%8F%AC%EA%B5%AC",
"searchOption": "30",
"sort": "index"
}
```

```
{
    "error": {
        "id": "400",
        "category": "tmap",
        "code": "3102",
        "message": "해당 서비스가 지원되지 않는 구간입니다.([NoSegment]Could not found roads near source[36.45083721277773,126.80242583898001](max radius : 3200m))"
    }
}
```
300에러와 코드를 띄운다. 나주시는 지원하지 않는데도 결과가 뜨고, 지원하지 않는 경우 옳게된 에러를 띄우는 지역 두 개가 생겼다. 아주 좋다.

반환에 대한 문서이다.
https://openapi.sk.com/products/detail?linkMenuSeq=58


반환 유형
1. 제공 구역이면서 성공
2. 제공 구역이 아니면서 성공
3. 제공 구역이면서 실패
4. 제공 구역이 아니면서 실패

제공 구역인지는 어떻게 확인을 해줄까?
주소 변환 기능
시군구 정도는 구별 가능함. 군지역에 대해서는 일부라고만 명시가 되어있는데, 아예 제공 구역이 아니라고 단정짓는 게 확실할 듯. 중간 중간 제공 안되면 그건 서비스가 아니얏

케이스가 좀 어렵다.
시골의 경우 인도, 차도 구분이 안되는데 이런 케이스 처리에 대해?
일단 나중에 함 생각해보자.

---

기획안
기획적 의도나 발전성에 대한 것이 주제라면 그것을 드러내는 시각적 자료가 있으면 좋겠다.

전동 보장구 사용하게 되면 한 손이 사용하기 어려울 테니까 UX적으로 뭔가 있으면 좋겠음.

알림? 어떻게 온다는 것인지? 그것 좀 설명을 명확히 적어주기 바람.

사용자 제보의 경우 허위 정보일 수도 있다. 어떤 방안이 있을 것인지? 멘트 등 서비스 적으로 고민해야 한다.

사용자 맞춤형 길안내? 전동보장구가 갈 수 있는 길을 안내하도록 해보겠다. 라는 표현이니까 말로 표현하든 추가 설명을 넣든 하면 좋을 것 같음.

지점별 리뷰? 뭐지?

서비스에 대한 문서를 봤을 때 시간 상 최대한 빨리 이해해야 한다.
표현을 이해하기 쉽게 해주면 좋겠음. 우선순위에 대해 기능을 정리하고, 한다면 커뮤니티 기능의 경우 확대할 수 있다. 와 같은 컨셉을 알려줄 수 있는 시각 자료를 주어라.

질문
> 우리는 MySQL 배웠는데 PostgreSQL 쓰더라. 이걸 쓰는 이유가 무엇인지?

> 래빗MQ -> Kafka 전환 이유

> 충전소는 전기차 충전소랑 같은 거임?
> 시장 상황에 대한 배경지식을 알아두면 좋을 것 같음.

> 장애인 화장실 넣는 거 어떰?
> 충전소를 사용할 일이 많이 없을 거 같다. 화장실 위치 알려주는 거 어떨지?

태생적 장애인 뿐만 아니라 노약자도 사용 가능할 것이다. 이에 대한 것도 설명하면 서비스적 관점에서 더 잘 흐를 수 있을 듯.

---

기술적 구현에 있어서 질문 거리?
각자 2개 이상씩 가져오기

UI 와이어 프레임 거창한 거 대신 도메인에서 어떻게 돌아갈 지 시각화된 자료 첨부

그건 기획서 밑에 작성
끝나기 30분 전에 모여서 확인하기

---

애초에 서비스 제공구역이 아니면 요청을 하지 못하게 하는 것도 방법.
노란색 경고 메시지로 현재 찍힌 핀포인트에 대해 서비스 제공구역이 아니라고 해주기. 자연스럽게 주소 변환 서비스와 연계됨.
하지만 이 경우 프론트에서 모종의 전처리를 추가해주는 것이 필요함.
백엔드에서 모든 것을 검증한다고 할 때, 주소 변환 API에서 파싱해오면 이걸 검증 필요

애초에 길찾기 API에도 검증 절차 넣어야 함. 제공 구역이 아닙니다. 라는 것으로 일단! 막아둔다.

Enum 타입으로 지역을 구분해주어야 함.
공공데이터가 참 좋아서 주소 필드를 레퍼런싱 가능하다.
시도명
시군구명
두 개로 간단하게 구분된다!
서울, 경기도는 예외처리. 광역시 및 특별시도 거른다.
나머지 시도에 대해 처리해주면 된다.


고민
충전소 쪽에서 시도랑 시군구 같이 사용하는데 이걸 common에 등록해야 할까? -> enum 다 입력하겠다는 막연한 생각. 대가리 깡
차라리 하드코딩

API 키 노출 안되게 해야할 건데 gitignore 붙여서 yml 관리하는 거 어떰

JSON 구조화 Jackson을 쓸까? responsebody를 응답으로 받는데 수동으로 처리해줘야 하는지 지금 조사중

지역구 시도 시군구 필드가 입력이 정형화되어야 하는 경우 enum 클래스로 만드는 처리를 보통 함? 필터링 할 때 DB같은 것으로 처리함 아니면 다 하드코딩함?

일부 지역에 대해, 지원 구역으로 처리할까 말까?
> 준원님이 질문으로 가져감 ㅠ

사용자 위치가 길찾기 기능에 대해 서비스 제공 구역이 아닌 상황임. 이때 이걸 어떤 식으로 알려줘야 함? 사용자 위치가 찍히면 해당 위치를 가져와서 안보여주는 식인지? 아니면 길찾기 기능 등을 사용할 때마다 사용하지 못하는 구역입니다 라고 알려줘야 하는지?
실시간으로 사용자에게 알려주는 것이 중요할 지 지금 갈피를 못 잡고 있다.

API가 오락가락 한다. 분명 제공 구역이 아닌데도 길찾기 기능을 제공한다. 오류가 날 때도 있는데, 만약 지원 범위가 제한되어 있는데 일부에서 성공하면 그것은 실패라고 간주하는 지?
길찾기 기능이 실패했을 때 다른 대안을 보여주거나 그냥 실패함. 을 띄워줘야 하는데 단순히 계단이나 장애물만 회피하는 것이라, 인프라가 낙후된 시골은 도로와 인도가 구분되어있지 않아 심한 경사로만 아니라면 계단이 적어 일반 지도 길찾기로도 도달 가능한 경우가 많다. 실패했을 때 어떤 반환을 시켜줘야 할 지 궁금하다.


---

내일?
엔티티 구현 및 세팅
flyway 세팅

와이어 프레임 작성

3시에 피드백 받고 1시간 정도 와이어프레임 작성
피그마로 만들자.
피그마 메이크 그대로 연결해서 프론트로 전환가능. 준원님 그대로 해주셈

피드백용 질문 만들기
엔티티 구현(난 할필요 없으니 테스트 세팅 생각해보기?)
API 문서 작성
